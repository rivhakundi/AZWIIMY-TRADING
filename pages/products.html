<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Our Products | Azwiimy Traditional African Grains</title>
    
    <meta name="description" content="Shop high-quality traditional South African grains, Mabele, and Sorghum products from Boyne Roller Mills. Order online for delivery in Tshilamba.">
    <meta name="keywords" content="buy mabele online, sorghum products, traditional grains, Boyne Roller Mills, South African food shop, heritage grains">
    <meta name="author" content="Azwiimy Trading Enterprise">
    <meta name="robots" content="index, follow">
    
    <link rel="stylesheet" href="../css/style.css"> 
     

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <script src="../javaScript/cart.js" defer></script> 
    
   
</head>
<body>
    <header>
        <div class="container header-container">
            <img src="../assets/sorghum-icon-vector-48698978.jpg" 
                 alt="Azwiimy Trading Enterprise Logo - Traditional Grain Supplier">

           <!-- Desktop Navigation -->
            <nav>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="products.html">Our Products</a></li>
                    <li><a href="faQ.html">Enquiries</a></li>
                </ul>
            </nav>

            <!-- Hamburger Menu (ONLY ONE) -->
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

            
            <div class="cart-icon-wrapper" onclick="toggleCart()">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count">0</span>
            </div>


    <div class="search-container">
        <div class="container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search product names or descriptions...">
                <button onclick="performSearch()">Search</button>
            </div>
        </div>
    </div>

    <div class="container" style="margin: 20px auto;">
        <div style="background: linear-gradient(135deg, #fff8e7 0%, #f5e6d3 100%); padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(139, 69, 19, 0.15); text-align: center; border: 2px solid rgba(139, 69, 19, 0.1);">
            <h3 style="color: var(--primary-color); margin-bottom: 10px;">ðŸ•’ Current Time: <span id="currentTime">--:--:--</span></h3>
            <p style="color: var(--dark-text);">ðŸ“… Today's Date: <span id="currentDate">--/--/----</span></p>
        </div>
    </div>
        
    <main class="products-page">
        <div class="container">
            <section class="product-header">
                <h1>Our Traditional Grains & Heritage Products</h1>
                <p>Delivering the best of Boyne Roller Mills Mabele and quality traditional food straight to your door in Tshilamba and surrounding areas.</p>
            </section>
            
            <section id="product-list">
                
                <div class="product-card" data-id="1" data-name="Mabele Soft Porridge" data-price="25.50">
                    <div class="product-image">
                        <img src="../assets/DCMcxliXUAAV9gV.jpg" alt="Mabele Soft Porridge">
                    </div>
                    <div class="product-info">
                        <h3>Mabele Soft Porridge (5kg)</h3>
                        <p>Finely milled, quick-cooking sorghum for a smooth, traditional breakfast.</p>
                        <div class="product-price">R <span>120</span></div>
                        <button class="add-to-cart" onclick="addToCart(1, 'Mabele Soft Porridge', 25.50)">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <div class="product-card" data-id="2" data-name="Whole Sorghum Grain" data-price="35.00">
                    <div class="product-image">
                        <img src="../assets/DCMcxliXUAAV9gV.jpg" alt="Whole Sorghum Grain">
                    </div>
                    <div class="product-info">
                        <h3>Whole Sorghum Grain (5kg)</h3>
                        <p>Unprocessed, versatile grain perfect for stews, side dishes, or traditional fermentation.</p>
                        <div class="product-price">R <span>120.00</span></div>
                        <button class="add-to-cart" onclick="addToCart(2, 'Whole Sorghum Grain', 35.00)">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <div class="product-card" data-id="3" data-name="Mabele Coarse Meal" data-price="45.99">
                    <div class="product-image">
                        <img src="../assets/download.jpg" alt="Mabele Coarse Meal">
                    </div>
                    <div class="product-info">
                        <h3>Mabele Coarse Meal (10kg)</h3>
                        <p>The staple ingredient for preparing traditional thick Pap (porridge).</p>
                        <div class="product-price">R <span>180.00</span></div>
                        <button class="add-to-cart" onclick="addToCart(3, 'Mabele Coarse Meal', 45.99)">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product-card" data-id="4" data-name="White Maize Meal" data-price="60.00">
                    <div class="product-image">
                        <img src="../assets/DCMcxliXUAAV9gV.jpg" alt="White Maize Meal">
                    </div>
                    <div class="product-info">
                        <h3>Super White Maize Meal (10kg)</h3>
                        <p>High-quality, trusted white maize meal, a necessary household staple.</p>
                        <div class="product-price">R <span>180.00</span></div>
                        <button class="add-to-cart" onclick="addToCart(4, 'White Maize Meal', 60.00)">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

            </section>
        </div>
    </main>

    <aside id="cart-sidebar">
        <div class="cart-header">
            <h2>ðŸ›’ Your Basket</h2>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        
        <ul id="cart-items">
            </ul>
        
        <div id="cart-total">
            Total: R 0.00
        </div>
        
        <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        <div id="orderSuccessModal" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 3000; 
    display: none; /* Hidden by default */
    justify-content: center;
    align-items: center;
    text-align: center;
">
    <div style="
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        max-width: 90%;
        color: #333;
    ">
        <i class="fas fa-check-circle" style="font-size: 3em; color: #28a745; margin-bottom: 20px;"></i>
        <h2 style="color: #28a745;">Order Successful!</h2>
        <p style="font-size: 1.1em;">Your order has been successfully sent to Azwiimy Trading Enterprise.</p>
        <p>We will contact you shortly to confirm payment and delivery details.</p>
        <button onclick="closeSuccessModal()" style="
            margin-top: 20px; 
            padding: 10px 20px; 
            background: #8B4513; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer;
        ">
            Continue Shopping
        </button>
    </div>
</div>
    </aside>
<footer>
    <div class="container">
            <div class="social-links" style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px;">
                <a href="https://www.facebook.com/mudau mpho" target="_blank" title="Facebook" style="color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                </a>
                <a href="https://www.instagram.com/mudauimani" target="_blank" title="Instagram" style="color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </a>
                <a href="https://www.tiktok.com/@Azwiimy" target="_blank" title="TikTok" style="color: white;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                    </svg>
                </a>
            </div>
            <p style="text-align: center;">&copy;2025 AZWIIMY TRADING ENTERPRISE</p>
        </div>
    </footer>
    <script src="../javaScript/hamburger.js">
        // ============================================
// UNIVERSAL HAMBURGER MENU FUNCTIONALITY
// Works across all pages
// ============================================

document.addEventListener('DOMContentLoaded', function() {
    initializeHamburgerMenu();
    initializeDateTime();
});

// ============================================
// HAMBURGER MENU INITIALIZATION
// ============================================

function initializeHamburgerMenu() {
    const hamburger = document.querySelector('.hamburger');
    const mobileNav = document.querySelector('.mobile-nav');
    const overlay = document.querySelector('.overlay');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav a');
    
    // Check if elements exist
    if (!hamburger || !mobileNav || !overlay) {
        console.warn('Hamburger menu elements not found');
        return;
    }
    
    // Toggle menu when hamburger is clicked
    hamburger.addEventListener('click', function(e) {
        e.stopPropagation();
        toggleMenu();
    });
    
    // Close menu when overlay is clicked
    overlay.addEventListener('click', function() {
        closeMenu();
    });
    
    // Close menu when any navigation link is clicked
    mobileNavLinks.forEach(link => {
        link.addEventListener('click', function() {
            closeMenu();
        });
    });
    
    // Close menu when Escape key is pressed
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
            closeMenu();
        }
    });
    
    // Handle window resize
    let resizeTimer;
    window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
            // Close menu if window is resized to desktop size
            if (window.innerWidth > 768 && mobileNav.classList.contains('active')) {
                closeMenu();
            }
        }, 250);
    });
}

// Toggle menu open/close
function toggleMenu() {
    const hamburger = document.querySelector('.hamburger');
    const mobileNav = document.querySelector('.mobile-nav');
    const overlay = document.querySelector('.overlay');
    
    hamburger.classList.toggle('active');
    mobileNav.classList.toggle('active');
    overlay.classList.toggle('active');
    
    // Prevent body scroll when menu is open
    if (mobileNav.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
        document.body.classList.add('menu-open');
    } else {
        document.body.style.overflow = '';
        document.body.classList.remove('menu-open');
    }
}

// Close menu
function closeMenu() {
    const hamburger = document.querySelector('.hamburger');
    const mobileNav = document.querySelector('.mobile-nav');
    const overlay = document.querySelector('.overlay');
    
    if (hamburger && mobileNav && overlay) {
        hamburger.classList.remove('active');
        mobileNav.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
        document.body.classList.remove('menu-open');
    }
}

// ============================================
// DATE & TIME FUNCTIONALITY
// ============================================

function initializeDateTime() {
    const timeElement = document.getElementById('currentTime');
    const dateElement = document.getElementById('currentDate');
    
    // Only run if elements exist on the page
    if (timeElement && dateElement) {
        updateDateTime();
        setInterval(updateDateTime, 1000);
    }
}

function updateDateTime() {
    const now = new Date();
    
    const timeOptions = { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit', 
        hour12: true 
    };
    
    const dateOptions = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    };
    
    const timeElement = document.getElementById('currentTime');
    const dateElement = document.getElementById('currentDate');
    
    if (timeElement) {
        timeElement.textContent = now.toLocaleTimeString('en-ZA', timeOptions);
    }
    
    if (dateElement) {
        dateElement.textContent = now.toLocaleDateString('en-ZA', dateOptions);
    }
}


window.closeMenu = closeMenu;
window.toggleMenu = toggleMenu;
        // --- 1. Real-time Time & Date Functionality ---
        function updateDateTime() {
            const now = new Date();
            
            // Time format
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit', 
                hour12: true 
            };
            
            // Date format
            const dateOptions = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            
            const currentTimeElement = document.getElementById('currentTime');
            const currentDateElement = document.getElementById('currentDate');
            
            if (currentTimeElement && currentDateElement) {
                currentTimeElement.textContent = now.toLocaleTimeString('en-ZA', timeOptions);
                currentDateElement.textContent = now.toLocaleDateString('en-ZA', dateOptions);
            }
        }
        
        // Update immediately on load and every second
        updateDateTime();
        setInterval(updateDateTime, 1000);


        // --- 2. Search Functionality (Highlights matching products) ---
        
        // Function to remove all previous highlights
        function removeHighlights() {
            document.querySelectorAll('.highlight').forEach(span => {
                span.outerHTML = span.innerHTML; // Replace the span with its content
            });
        }

        // Main search function
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            const productCards = document.querySelectorAll('.product-card');
            
            removeHighlights(); 

            if (searchTerm.length < 3) {
                alert('Please enter at least 3 characters to search.');
                return;
            }

            let foundCount = 0;
            const regex = new RegExp(searchTerm, 'gi'); 
            
            productCards.forEach(card => {
                const nameElement = card.querySelector('.product-info h3');
                const descElement = card.querySelector('.product-info p');
                let matchesInCard = 0;

                // Function to highlight text within an element
                const highlightText = (element) => {
                    if (element) {
                        const originalText = element.textContent;
                        
                        // Use a temporary wrapper to highlight text
                        const newHtml = originalText.replace(regex, function(match) {
                            matchesInCard++;
                            return `<span class="highlight">${match}</span>`;
                        });
                        element.innerHTML = newHtml;
                    }
                };

                highlightText(nameElement);
                highlightText(descElement);

                if (matchesInCard > 0) {
                    card.style.border = '2px solid orange'; // Visually indicate a match
                    foundCount++;
                } else {
                    card.style.border = 'none'; // Clear border if no match
                }
            });

            if (foundCount > 0) {
                alert(`Found ${foundCount} product(s) matching "${searchTerm}".`);
                // Scroll to the first highlighted element
                document.querySelector('.highlight')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                alert(`No products found for "${searchTerm}".`);
            }
        }
        
        // Search on Enter key press
        document.getElementById('searchInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
        
        // --- 3. Hamburger Menu & Overlay Logic (Re-include for full functionality) ---
        // Assuming your hamburger JS was lost, here it is again:
        const hamburger = document.querySelector('.hamburger');
        const mobileNav = document.querySelector('.mobile-nav');
        const overlay = document.querySelector('.overlay');

        hamburger?.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            mobileNav.classList.toggle('active');
            overlay.classList.toggle('active'); 
        });

        overlay?.addEventListener('click', () => {
            hamburger.classList.remove('active');
            mobileNav.classList.remove('active');
            overlay.classList.remove('active');
            document.getElementById('cart-sidebar')?.classList.remove('active'); // Close cart too
        });


  let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];

// --- UTILITY FUNCTIONS ---

function saveCart() {
    localStorage.setItem('shoppingCart', JSON.stringify(cart));
    renderCart();
    updateCartCount();
}


function formatPrice(price) {
    return `R ${price.toFixed(2)}`;
}


function addToCart(id, name, price) {
    const existingItem = cart.find(item => item.id === id);

    if (existingItem) {
        existingItem.quantity += 1;
    } else {
        cart.push({ id, name, price, quantity: 1 });
    }

    saveCart();
    console.log(`${name} added to cart!`);
}


function changeQuantity(id, change) {
    const itemIndex = cart.findIndex(item => item.id === id);

    if (itemIndex > -1) {
        const item = cart[itemIndex];
        item.quantity += change;

        if (item.quantity <= 0) {
            // Remove item completely if quantity drops to 0 or less
            cart.splice(itemIndex, 1);
        }
    }
    saveCart();
}

/**
 * Renders the cart items and total in the sidebar.
 */
function renderCart() {
    const cartItemsElement = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    let total = 0;
    
    if (!cartItemsElement) return; // Exit if element not found (e.g., on a non-product page)

    cartItemsElement.innerHTML = ''; // Clear existing content

    if (cart.length === 0) {
        cartItemsElement.innerHTML = '<p style="text-align: center; margin-top: 20px; color: #666;">Your cart is empty. Start shopping!</p>';
    } else {
        cart.forEach(item => {
            const itemTotal = item.price * item.quantity;
            total += itemTotal;

            const li = document.createElement('li');
            li.className = 'cart-item';
            li.innerHTML = `
                <div class="item-details">
                    <h4>${item.name}</h4>
                    <span>${formatPrice(item.price)} each</span>
                </div>
                <div class="item-controls">
                    <button class="quantity-btn" onclick="changeQuantity(${item.id}, -1)">-</button>
                    <span class="item-quantity" style="margin: 0 10px;">${item.quantity}</span>
                    <button class="quantity-btn" onclick="changeQuantity(${item.id}, 1)">+</button>
                    <button class="remove-item" onclick="changeQuantity(${item.id}, -${item.quantity})" title="Remove item">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            `;
            cartItemsElement.appendChild(li);
        });
    }

    if (cartTotalElement) {
        cartTotalElement.textContent = `Total: ${formatPrice(total)}`;
    }
}

/**
 * Updates the item count displayed on the cart icon in the header.
 */
function updateCartCount() {
    const count = cart.reduce((sum, item) => sum + item.quantity, 0);
    const cartCountElement = document.getElementById('cart-count');
    if (cartCountElement) {
        cartCountElement.textContent = count;
    }
}

/**
 * Toggles the visibility of the cart sidebar.
 */
function toggleCart() {
    const sidebar = document.getElementById('cart-sidebar');
    if (sidebar) {
        sidebar.classList.toggle('active');
        // Re-render the cart every time it's opened to ensure data is fresh
        if (sidebar.classList.contains('active')) {
            renderCart();
            // Optional: Hide mobile menu/overlay if open
            document.querySelector('.hamburger')?.classList.remove('active');
            document.querySelector('.mobile-nav')?.classList.remove('active');
            document.querySelector('.overlay')?.classList.remove('active');
        }
    }
}

// --- ORDER SUCCESS MODAL FUNCTIONS ---

function showSuccessModal() {
    const modal = document.getElementById('orderSuccessModal');
    if (modal) {
        modal.style.display = 'flex';
    }
}

function closeSuccessModal() {
    const modal = document.getElementById('orderSuccessModal');
    if (modal) {
        modal.style.display = 'none';
    }
}

/**
 * Handles the checkout process (Simulates order submission and displays success).
 */
function checkout() {
    if (cart.length === 0) {
        alert("Your cart is empty. Please add items before checking out.");
        return;
    }
    
    const orderData = {
        total: document.getElementById('cart-total').textContent,
        items: cart,
        timestamp: new Date().toISOString()
    };
    
    // 1. SIMULATE SERVER SUBMISSION
    console.log("Submitting Order Data:", orderData);
    
    // In a real application, you would use fetch() here to send the data to your server.
    
    // Simulate a 1-second processing delay
    setTimeout(() => {
        // 2. CLEAR THE CART
        cart = [];
        saveCart(); // Updates local storage and UI (count goes to 0)
        
        // 3. CLOSE THE CART SIDEBAR
        toggleCart();
        
        // 4. DISPLAY THE SUCCESS MESSAGE
        showSuccessModal();
        
    }, 1000); 
    
    // Disable checkout button temporarily to prevent double submission
    const checkoutBtn = document.querySelector('.checkout-btn');
    checkoutBtn.disabled = true;
    checkoutBtn.textContent = 'Processing...';

    // Re-enable button after simulation
    setTimeout(() => {
        checkoutBtn.disabled = false;
        checkoutBtn.textContent = 'Proceed to Checkout';
    }, 1000);
}

// --- Initialization ---

document.addEventListener('DOMContentLoaded', () => {
    updateCartCount();
    // Ensures cart items are rendered if the cart sidebar is ever opened
    // You might also want to call renderCart() here if the cart is visible by default.
    
    // Overlay listener for closing cart (optional, handled in toggleCart)
    const overlay = document.querySelector('.overlay');
    if (overlay) {
        overlay.addEventListener('click', () => {
            document.getElementById('cart-sidebar')?.classList.remove('active');
        });
    }
});
    </script>
    </body>
</html>